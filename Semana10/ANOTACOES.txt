AJUSTE DAS VERSOES DE PRISMA PARA O PC DO IFRS POR CONTA DA VERSAO DO NODE
OBS: ISSO DEVE FUNCIONAR EM CASA

1. DELETAR O ARQUIVO PACKAGE-LOCK.JSON
    O PACKAGE-LOCK GUARDA A VERSAO QUE FOI INSTALADA QUANDO CONFIGURADO O PACOTE

2. ALTERAR A VERSAO DO PRISMA E DO PRISMA CLIENTE PARA (PACKAGE.JSON)
    5.18.0
    ALTERA A VERSAO (TRAVANDO - SEM O ^) E UMA QUE É COMPATIVEL


3. INSTALAR OS PACOTES (npm i)

4. EXECUTAR A "GERACAO DO PRISMA CLIENT"
    npx prisma migrate dev
    O PRISMA DE UM CLIENT PARA ACESSAR O BANCO

5. AJUSTAR A IMPORTACAO DO CLIENTE NO SERVICE (prisma.service.ts)
    import { PrismaClient } from '../generated/prisma';

6. EXECUTAR A APLICACAO
    npm run start:dev

7. Acessar url  http://localhost:3000/users


ATÉ ENTAO TINHAMOS...
APLICAÇÃO WEB SERVER SIDE RENDERING
    EXPRESS + EJS + BANCO
        TODA INFORMACAO "SENSIVEL" FICA NO SERVIDOR
        INCLUSIVE SESSOES DE USUARIO PARA AUTENTICACAO

    VANTAGENS   
        * CONSIGO "JUNTAR" FRONT E BACKEND AUTOMATICAMENTE
        * SEGURANÇA
        * FACIL DE GERIR, DEPLOY, ETC

    DESVANTAGENS
        * MEMORIA
        * TRAFEGO HTTP - HTML + CSS + JS SENDO TRANSFERIDO
        * ORGANIZACAO EM APPS GRANDES PODE SE TORNAR UM PROBLEMA
        * VARIAS "MAOS" ALTERANDO PARTES PROXIMAS DE CODIGO
        * ESCALABILIDADE DA APLICAÇÃO (INFRA)


SISTEMAS  CLIENT SIDE RENDERING + BACKEND DEDICADO (API)
    application programming interface

    o mais comum "vende" API RESTful 
    Re -> Representational
    S -> State 
    T -> Trasfering

    client side rendering utilizam uma REST API como backend e este backend resolve (teoricamente) os problemas/desvantagens de uma aplicacao inteiramente server side rendering.
        * ESCALABILIDADE HORIZONTAL DO SISTEMA

    COMO FUNCIONA AUTENTICACAO?
        ANTES A SESSION FICAVA NO SERVIDOR DA APLICACAO (BACK) E O FRONT RECEBIA UM COOKIE PARA SE IDENTIFICAR EM CADA CHAMADA.

        EM SISTEMA REST EU ENVIO PARA O CLIENT TODA A INFORMACAO DE AUTENTICACAO QUE ELE PRECISA TER, E COMUM TER PAYLOADS DE REQUESTS QUE ENVOLVAM TOKEN + ALGUMA OUTRA INFORMACAO RELACIONADA AO CLIENTE QUE É VALIDADA EM TEMPO DE REQUISICAO.

        EU PRECISO ENVIAR PRO CLIENTE ALGO QUE O IDENTIFIQUE (PERMISSAO/AUTORIZACAO) .. O MAIS COMUM É A UTILIZACAO DE JWT

        PQ JWT?
            JSON WEB TOKEN
            A INFORMACAO NO JWT É PUBLICA
            MAS A ASSINATURA NAO

        CHAVE SEGREDO-SUPER-SECRETO-DO-IFRS-WEBII

        eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoidmluaSIsInJvbGUiOiJhZG1pbiIsInN0YXR1cyI6InFscXIgY29pc2EifQ.cr9nwtFop58HnOS-MmRzRVqFO-XMonO7GFTjwR5B1iQ



NO NESTJS

1. instalar a dependencia
npm i --save @nestjs/jwt

2. gerar um modulo de autenticacao

npx nest generate module auth
npx nest g mo auth
    vai gerar 1 modulo e conectar na aplicacao.     (aut/auth.module.ts)

npx nest g service auth
npx nest g controller auth